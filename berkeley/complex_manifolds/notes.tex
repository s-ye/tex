\documentclass[12pt]{article}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{listings}
\usepackage{bookmark}
\usepackage{tikz}
\usepackage{/Users/songye03/Desktop/math_tex/style/quiver}
\usepackage{/Users/songye03/Desktop/math_tex/style/scribe}
\usepackage{fancyhdr}

\usepackage{parskip} % Automatically respects blank lines
\setlength{\parskip}{1em} % Adds more space between paragraphs
\setlength{\parindent}{0pt} % Removes paragraph indentation

\begin{document}


\lhead{Songyu Ye}
\rhead{\today}
\cfoot{\thepage}

\title{Complex Manifolds}

\author{Songyu Ye}
\date{\today}
\maketitle


\begin{abstract}
    These are notes for the course Complex Manifolds (Math 241) taught by Professor Constantin Teleman in the Fall of 2025 at UC Berkeley.
\end{abstract}

\tableofcontents
\section{Elliptic functions}
The classical story begins with the Weierstrass $\wp$-function, defined by
\[\wp(z;L) = \frac{1}{z^2} + \sum_{\omega \in L\setminus\{0\}} \left(\frac{1}{(z-\omega)^2} - \frac{1}{\omega^2}\right)\]
which has the properties that it is an $L$-periodic meromorphic function on $\C$ with double poles at the lattice points, and that it satisfies the differential equation
\[(\wp'(z))^2 = 4\wp(z)^3 - g_2\wp(z) - g_3 = 4(z - e_1)(z - e_2)(z - e_3)\]
where $g_2,g_3$ are constants depending on $L$, given explicitly by \begin{align*}
    g_2 & = 60\sum_{\omega \in L\setminus\{0\}} \frac{1}{\omega^4} \\
    g_3 & = 140\sum_{\omega \in L\setminus\{0\}} \frac{1}{\omega^6}
\end{align*} and $e_i$ are the values of $\wp$ at the half-lattice points $\omega_1/2, \omega_2/2, (\omega_1+\omega_2)/2$. The $e_i$ are distinct as we will show in Prop \ref{prop:wp-map}.
The convergence is uniform on any compact subset $K \subset \C$, once the terms with poles in $K$ are set aside.

Uniform convergence implies that the series can be differentiated term-by-term, so we get a formula for $\wp'(z)$ given by \begin{align*}
    \wp'(z) & = -2\sum_{\omega \in L} \frac{1}{(z-\omega)^3}
\end{align*} is an doubly periodic meromorphic function with triple poles at the lattice points. Moreover, one can see directly from the series expansion that $\wp$ is even and $\wp'$ is odd.

The oddness implies that $\wp'(z)$ vanishes at the half-lattice points. Moreover, one can check that these are simple zeros of $\wp'$, and moreover the only zeros of $\wp'$ modulo $L$. Thus $\wp'$ has only poles at lattice points, each of order 3. In a fundamental parallelogram there is exactly one pole (mod $L$), of total multiplicity 3. This implies the following proposition.
\begin{proposition}
    $\wp(z)$ and $\wp'(z)$ define holomorphic maps $\C/L \to \P^1$ of degree $2$ and $3$ respectively.
\end{proposition}
We conclude that each of the half-lattice points must be a simple zero of $\wp'$ and moreover that these are all of the zeros, because any meromorphic function has divisor of degree 0.

\begin{proposition}[Properties of the $\wp$-map]\label{prop:wp-map}
\leavevmode
\begin{enumerate}[(i)]
    \item The numbers $e_1,e_2,e_3$ are all distinct.
    \item For any $a \in \mathbb{C}$ with $a \neq e_1,e_2,e_3$, the equation $\wp(u)=a$ has two simple roots in a fundamental period parallelogram. For the three exceptional values $a=e_i$, it has a single double root.
\end{enumerate}
\end{proposition}

\begin{proof}
\leavevmode
\begin{enumerate}[(i)]
    \setcounter{enumi}{1}
    \item General theory of meromorphic functions on a torus shows that we either have two simple roots or one double root. Since a double root corresponds to a zero of the derivative $\wp'$, the claim follows. Note that the two simple roots always differ by a sign modulo $L$, by the parity of $\wp$.
    
    \setcounter{enumi}{0}
    \item Suppose, for contradiction, that $e_1=e_2$. Then $\wp(u)=e_1$ would have a double root at $\tfrac{\omega_1}{2}$ and another double root at $\tfrac{\omega_2}{2}$. This would give too many roots (multiplicity $4$ in a fundamental parallelogram), contradicting the fact that $\wp$ is a double covering of $\mathbb{P}^1$. Hence the $e_i$ are distinct.
\end{enumerate}
\end{proof}
\begin{remark}
    Kac writes that this quadratic term which appears in the definition of $t_\alpha$ \ref{eq:ta} "explains" the appearance of theta functions in the theory of affine algebras. This is because when you compute the characters of highest-weight representations of affine Kac-Moody algebras, you sum over the affine Weyl group:
\[\chi(\lambda) = \sum_{w \in W} \det(w)\, e^{w(\lambda+\rho) - \rho}\]
and theta functions arise precisely when you sum exponentials of the form \begin{align*}
    \Theta(\tau, z) = \sum_{\alpha \in \text{lattice}} \exp\!\big(-\tfrac{1}{2}|\alpha|^2 \tau + \langle \alpha, z\rangle\big).
\end{align*}
Continuing with the discussion of theta functions, we have the following theorem about genus $1$ Riemann surfaces.
\end{remark}

\begin{theorem}
    Let $\theta_1,\dots,\theta_4$ be the four Jacobi theta functions. Then there is a map \begin{align*}
        E/L \to \mathbb{CP}^3, \quad z \mapsto [\theta_1(z,\tau):\theta_2(z,\tau):\theta_3(z,\tau):\theta_4(z,\tau)]
    \end{align*} which is a smooth embedding of the complex torus $E=\mathbb{C}/L$ into projective space. It is a degree $4$ map and its image is the intersection of two quadrics.
\end{theorem}

\begin{proposition}
The function $\wp : \mathbb{C}/L \to \mathbb{P}^1$ is a degree $2$ holomorphic map with branch points over 
$e_1, e_2, e_3, \infty$.
\end{proposition}

Those of us who solved Example Sheet 1, Question 2, have seen the same picture of branching 
for the Riemann surface of the cubic equation
\[
    w^2 = (z - e_1)(z - e_2)(z - e_3);
\]
in Lecture 10, we shall establish a deep connection between the two.

We will use the $\wp$-function to prove the Unique Presentation by principal parts.
Uniqueness being clear on general grounds (cf.\ Lecture 4), we merely need to prove the existence statement;
and this will emerge from the proof of the first theorem below. 
Remarkably, this will also allow us to describe the field of meromorphic functions over $\mathbb{C}/L$.

\begin{theorem}
Every elliptic function is a rational function of $\wp$ and $\wp'$. 
Specifically, every \textbf{even} elliptic function is a rational function of $\wp$, 
every \textbf{odd} elliptic function is $\wp'$ times a rational function of $\wp$;
and every elliptic function can be expressed uniquely as
\[
    f(u) = R_0(\wp(u)) + \wp'(u)\, R_1(\wp(u)),
\]
with $R_0, R_1$ rational functions, where the two terms are the even and odd parts of $f$.
\end{theorem}

\begin{proof}
It suffices to prove the statement for even elliptic functions; division by $\wp'$ reduces odd ones to even ones. 
Recall that 
\[
\wp : \C/L \longrightarrow \P^1
\]
is a degree $2$ holomorphic map. 
This map realizes $\P^1$ as the quotient space of the torus $\C/L$ under the identification of $u$ with $-u$. Certainly the map is surjective because general theory of holomorphic maps between compact Riemann surfaces shows that any nonconstant holomorphic map is surjective. The map is injective because $\wp(u) = \wp(v)$ if and only if $u \equiv \pm v \mod L$. 

A bijective holomorphic map between compact Riemann surfaces is automatically biholomorphic.
Let $f:R \to S$ be such a map. The inverse function theorem guarantees that the inverse function $f^{-1}$ is smooth. Moreover, it guarantees that
    \begin{align*}
        (f^{-1})'(b) = \frac{1}{f'(f^{-1}(b))}
    \end{align*}
    Since $f$ is bijective, it has nonzero derivative everywhere because if it did not, it would look like $z\mapsto z^k$ for some $k\geq 2$ and thus it would fail to be locally bijective. Since it has nonzero derivative everywhere, $(f^{-1})'$ is defined everywhere and is in fact a complex number. Hence $f^{-1}$ is holomorphic. $\Delta$ and $\mathbb{C}$ are homeomorphic but they are not biholomorphic. 

So indeed $\P^1$ is the quotient of $\C/L$ by the involution $u \mapsto -u$. Hence, any even \textbf{continuous} map 
\[
f : \C/L \to \P^1
\]
has the form $f = R \circ \wp$, for some continuous map $R : \P^1 \to \P^1$. 
Moreover, $\wp$ is a local analytic isomorphism away from the four branch points, which implies that $R$ is holomorphic there, if $R \circ \wp$ was so. So we know that $R$ is continuous everywhere and holomorphic away from the four branch points. 

The following result shows that $R$ is holomorphic everywhere, hence a rational function. \begin{align*}
    R(z) = P(z)/Q(z) \implies f(u) = P(\wp(u))/Q(\wp(u))
\end{align*} Writing every elliptic function as a sum of an even and an odd one, and the odd ones as $\wp'$ times an even one, we get the desired result.
\end{proof}

\begin{proposition}
Let $f : S \to R$ be a continuous map between Riemann surfaces, known to be holomorphic except at isolated points. 
Then $f$ is holomorphic everywhere.
\end{proposition}

\begin{proof}
Choosing coordinate neighbourhoods near the questionable points and their images, we are reduced to the statement that a continuous function on $\Delta$ which is holomorphic on $\Delta^\times$ is, in fact, holomorphic at $0$ as well. This follows from Riemann's theorem on removable singularities.
\end{proof}

A remarkable consequence is that the function $\wp'(u)^2$, being elliptic and even, 
is expressible in terms of $\wp$. Explicitly, we have the following.

\begin{theorem}[Differential equation for $\wp$]
\[
    \wp'(u)^2 = 4\wp(u)^3 - g_2 \wp(u) - g_3,
\]
where $g_2 = 60G_4$, $g_3 = 140G_6$, and
\[
    G_r = G_r(L) = \sum_{\omega \in L^*} \omega^{-r}.
\]
\end{theorem}

\begin{proof}
Recall the Laurent expansion of the Weierstrass function
\[
\wp(u)=u^{-2}+3G_4(L)u^{2}+5G_6(L)u^{4}+\cdots,
\qquad
\wp'(u)=-2u^{-3}+6G_4(L)u+20G_6(L)u^{3}+\cdots .
\]

For $|u|<|\omega|$ and any integer $k\ge1$,
\[
(u-\omega)^{-k}
=\frac{(-1)^k}{\omega^{k}}
\Bigg[\,1+k\frac{u}{\omega}+\frac{k(k+1)}{2!}\frac{u^{2}}{\omega^{2}}
+\frac{k(k+1)(k+2)}{3!}\frac{u^{3}}{\omega^{3}}+\cdots\Bigg].
\]
Expanding each term in the defining series for $\wp$ with the above, and (for small $u$) interchanging sums, the odd powers in $u$ cancel, giving
\[
\wp(u)=u^{-2}+\sum_{m=1}^{\infty}\binom{-2}{2m}\,G_{2m+2}(L)\,u^{2m}
= u^{-2}+\sum_{m=1}^{\infty}(2m+1)\,G_{2m+2}(L)\,u^{2m}.
\]
Similarly,
\[
\wp'(u)=-2u^{-3}
+\sum_{m=0}^{\infty}\big(-2\big)\binom{-3}{\,2m+1\,}\,G_{2m+4}(L)\,u^{2m+1}
\]

Using these expansions, the first few terms of $(\wp'(u))^{2}$ and
$4\wp(u)^{3}-g_{2}\wp(u)-g_{3}$ agree at $u=0$; hence their difference is an elliptic function
with no poles that vanishes at $u=0$, so it is identically zero. 
\end{proof}

The two theorems immediately lead to a description of the field of meromorphic functions on $\mathbb{C}/L$.

\begin{corollary}
The field of meromorphic functions on $\mathbb{C}/L$ is isomorphic to
\[
    \mathbb{C}(z)[w] \big/ (w^2 - 4z^3 + g_2 z + g_3),
\]
the degree $2$ extension of the field of rational functions $\mathbb{C}(z)$ obtained by adjoining the solutions 
$w$ to the equation 
\[
    w^2 = 4z^3 - g_2 z - g_3.
\]
\end{corollary}

\begin{theorem}
Let $z_1, \dots, z_n$ and $p_1, \dots, p_m$ denote the zeroes and poles of a non-constant elliptic function $f$ in the period parallelogram, repeated according to multiplicity. Then:
\begin{enumerate}[(i)]
    \item $m = n$,
    \item $\displaystyle \sum_{k=1}^m \operatorname{Res}_{p_k}(f) = 0,$
    \item $\displaystyle \sum_{k=1}^n z_k = \sum_{k=1}^m p_k \pmod{L}.$
\end{enumerate}
\end{theorem}

\begin{remark}
Zeroes and poles that are on the boundary should be counted only on a single edge, or at a single vertex. 
In fact, we can easily avoid zeroes and poles on the boundary by shifting our parallelogram by a small complex number $\lambda$; 
the relations (i)--(iii) are unchanged.
\end{remark}

\begin{definition}
    Fix a local coordinate $z$ at a point $p$. The \textbf{principal part} of a meromorphic function $f$ at $p$ is the part of its Laurent expansion in negative powers of $(z-p)$:
\[\sum_{n=1}^N a_{-n}(z-p)^{-n}\]
\end{definition}


\begin{theorem}[Unique Presentation by principal parts]
An elliptic function is specified uniquely, up to an additive constant, 
by prescribing its principal parts at all poles in the period parallelogram. 
The prescription is subject only to condition~(ii).
\end{theorem}

\begin{proof}
This is more computational, but also more concrete. 
We first show that we can realize any even assignment of principal parts on $\C/L$ using a suitable rational function $R(\wp(u))$. 
Such an assignment involves finitely many points $\lambda \in \C/L$ and principal parts
\[
    \sum_{k=1}^{n_\lambda} a^{(\lambda)}_k (u - \lambda)^{-k},
\]
with the properties that:
\begin{itemize}
    \item if $2\lambda \notin L$, then $(-\lambda)$ also appears, with assignment
    \[
        \sum_{k=1}^{n_\lambda} (-1)^k a^{(\lambda)}_k (u + \lambda)^{-k},
    \]
    i.e.\ $a_k^{(-\lambda)} = (-1)^k a_k^{(\lambda)}$;
    \item if $2\lambda \in L$, then only even powers of $(u - \lambda)^{-1}$ are present.
\end{itemize}

This is because the local coordinates at $\lambda$ and $-\lambda$ are opposite signs. Write the principal part at $\lambda$ (using $v=u-\lambda$): $f(u)=\sum_{k=1}^{n_\lambda} a_k^{(\lambda)}\,v^{-k}+\cdots$. Near $-\lambda$ use $w=u+\lambda$. Evenness gives \[f(-\lambda+w)=f\bigl(-(-\lambda+w)\bigr)=f(\lambda-w) =\sum_{k\ge1} a_k^{(\lambda)}(-w)^{-k} =\sum_{k\ge1} (-1)^k a_k^{(\lambda)}\,w^{-k}\]
If $2\lambda\in L$ (so $-\lambda\equiv\lambda$ on $\C/L$), the same calculation forces $\sum_{k\ge1} a_k^{(\lambda)} v^{-k}=\sum_{k\ge1} a_k^{(\lambda)}(-v)^{-k}$, hence $a_k^{(\lambda)}=0$ for all odd $k$: only even powers $(u-\lambda)^{-2j}$ can appear.

Now if $2\lambda \notin L$, $(\wp(u) - \wp(\lambda))^{-1}$ has a simple pole at $u=\lambda$ and we can create any principal part there as a sum of $(\wp(u) - \wp(\lambda))^{-k}$. 
Evenness of $\wp$ takes care of the symmetry. 
If $2\lambda \in L$, then we can use either powers of $\wp$, if $\lambda \in L$, or powers of $(\wp(u) - e_{1,2,3})^{-1}$, which have double poles with no residue.

Now, onto the odd functions. 
Odd assignments of principal parts are of the form
\[
    \sum_{k=1}^{n_\lambda} a^{(\lambda)}_k (u - \lambda)^{-k},
\]
with a matching term
\[
    -\sum_{k=1}^{n_\lambda} (-1)^k a^{(\lambda)}_k (u + \lambda)^{-k}
\]
at $-\lambda$ (i.e.\ $a^{(-\lambda)}_k = (-1)^{k+1} a^{(\lambda)}_k$), 
or else with vanishing $a^{(\lambda)}_k$ (for even $k$) if $2\lambda \in L$.

The principal parts
\[
    \left( \frac{P_\lambda}{\wp'(u)} - \frac{P_{-\lambda}}{\wp'(u)} \right)
\]
can be realized by a sum of powers of $(\wp(u) - \wp(\lambda))^{-1}$. 
If $2\lambda \in L$ but $\lambda \notin L$ (not $0$), then $P_\lambda^{(u)}/\wp'(u)$ is also a well-defined even principal part, expressible via $(\wp(u) - \wp(\lambda))^{-1}$. 
The same goes for $P_0^{(u)}/\wp'(u)$. 
So there exists a function of the form $R_1(\wp(u))$ whose principal parts agree with the $P_\lambda(u)/\wp'(u)$ everywhere. 

The principal parts of $R_1(\wp(u))\,\wp'(u)$ agree with the $P_\lambda$, except possibly at $\lambda=0$, where the cubic pole of $\wp'$ could introduce unwanted or incorrect $u^{-3}$ and $u^{-1}$ terms. 
We can adjust the $u^{-3}$ term by shifting $R_1$ by a constant. 
We have no control over the $u^{-1}$ term, but that is determined from the condition $\sum \operatorname{Res} = 0$, 
which indeed must be met if a function with the prescribed principal parts is to exist.
\end{proof}

\begin{theorem}[Unique Presentation by zeroes and poles]
An elliptic function is specified uniquely, up to a multiplicative constant, 
by prescribing the location of its zeroes and poles in the period parallelogram, with multiplicities. 
The prescription is subject to conditions~(i) and~(iii).
\end{theorem}


\begin{lemma}
$g_2^3 \neq 27g_3^2$ and $e_1, e_2, e_3$ are the roots of the equation
\[
4z^3 - g_2 z - g_3 = 0.
\]
\end{lemma}

\begin{proof}
$\wp'$ vanishes at the half-lattice points, while $\wp$ takes the values $e_1,e_2,e_3$ there. The roots are distinct so the discriminant of the cubic is nonzero, i.e.\ $g_2^3 \neq 27g_3^2$.
\end{proof}

\begin{theorem}[Geometric interpretation]
The map $\C/L \setminus \{0\} \to \C^2$ given by
\[
u \longmapsto (z(u), w(u)) = (\wp(u), \wp'(u))
\]
gives an analytic isomorphism between the Riemann surface $\C/L \setminus \{0\}$ and the (concrete) Riemann surface $R$ of the function
\[
w^2 = 4z^3 - g_2 z - g_3
\]
in $\C^2$.
\end{theorem}

\begin{proof}
We have the commutative diagram:
\[
\begin{tikzcd}
\C/L \setminus \{0\} \arrow[r, "{(\wp,\wp')}"] \arrow[dr, "{\wp}"'] & R \arrow[d, "{\pi}"] \\
 & \C
\end{tikzcd}
\]
and we know that:
\begin{itemize}
    \item $\pi$ is proper and $2$-to-$1$ except at the branch points $e_1,e_2,e_3$, which are the roots of $4z^3 - g_2z - g_3$.
    \item $\wp$ is proper and $2$-to-$1$ except at the half-period points $\omega_1/2,\omega_2/2,\omega_1/2+\omega_2/2$, which map to the roots $e_1,e_2,e_3$.
    \item $\wp(u)=\wp(-u)$ and $\wp'(u)=-\wp'(-u)$: this means that, unless $u$ is a half-period, $\wp'$ takes both values $\pm w = \pm \wp'(u)$ at the two points $\pm u$ mapping to the same $z=\wp(u)$ of $\C$.
\end{itemize}

Together, these three properties show that the map we just constructed is bijective. 
Note further that, at no point $u \in \C/L \setminus \{0\}$, is $\wp'(u)=\wp''(u)=0$, because $\wp'$ has simple zeros only (there are three of them); 
this means that for every $u \in \C/L \setminus \{0\}$, either the map $\wp$ or the map $\wp'$ gives an analytic isomorphism of a neighbourhood of $u$ with a small disc in the $z$-plane or in the $w$-plane.

Since the Riemann surface structure on the (concrete, non-singular) Riemann surface $R$ is defined by the projections to the $z$- and $w$-planes, appropriately, we conclude that $(\wp, \wp')$ gives an analytic isomorphism
\[
\C/L \;\longrightarrow\; R.
\]
\end{proof}





\section{Riemann surfaces and field extensions}
\begin{theorem}
The following categories are equivalent:
\begin{itemize}
    \item Compact Riemann surfaces with nonconstant holomorphic maps
    \item Smooth proper (and hence projective) algebraic curves over $\mathbb{C}$ with nonconstant morphisms
    \item Field extensions of $\mathbb{C}$ of transcendence degree $1$, of finite degree over $\mathbb{C}(t)$ where $t$ is transcendental over $\mathbb{C}$, with field homomorphisms over $\mathbb{C}$
\end{itemize}

The correspondence in one direction is:
\begin{align*}
    \text{Riemann surface } S &\mapsto \text{ function field } \mathbb{C}(S) \\
    \text{Holomorphic map } f: S \to S' &\mapsto \text{ field homomorphism } f^*: \mathbb{C}(S') \to \mathbb{C}(S) \\
\end{align*}
\end{theorem}

\begin{remark}
    For curves, smooth and proper implies projective. This is false in higher dimensions.
\end{remark}
Common to both is the construction of nonconstant meromorphic functions. It suffices to find \begin{itemize}
    \item A map $f:R \to \P^1$ which realizes $R$ as a branched cover of $\P^1$ (the transcendental part of the function field) \begin{align*}
        f^*: \mathbb{C}(z) &\hookrightarrow \mathbb{C}(R) \\
        z &\mapsto f
    \end{align*}
    \item A nonconstant meromorphic function $g$ on $S$ which separates the sheets (the finite part of the function field)
\end{itemize}
Once you have these functions, consider the set of pairs $\{(f(p), g(p)) : p \in S\} \subset \mathbb{P}^1 \times \mathbb{P}^1$. This is an analytic curve. By a theorem of Riemann (or later by Chow's theorem), an analytic curve in projective space is algebraic. So there exists a nonzero polynomial $P(x,y)$ such that
\[
P(f,g) = 0 \quad \text{on } S.
\]
Thus, the image of $S$ under $(f,g)$ is contained in the algebraic curve $P(x,y)=0$. Moreover, because $g$ separates the sheets, $(f,g)$ is generically injective, so the map is birational. Hence $S$ and the curve $P(x,y)=0$ have the same function field. So you've now explicitly realized $\mathbb{C}(S) = \mathbb{C}(f,g)$.

We state Riemann's theorem which allows us to pass from the analytic setting to the algebraic setting.
\begin{theorem}
    Let $R$ be a compact Riemann surface and $p\in R$. There exists a meromorphic function $f$ with poles of arbitrary order $n$ at $p$ and holomorphic elsewhere, provided that $n$ is sufficiently large.
\end{theorem}

The method of proof involves constructing holomorphic differentials with poles at $p$, and in fact one can get them to any order of pole $\geq 2$. Then if these differentials are exact, their integrals give a single valued function with pole only at $p$.
\section{Galois theory of compact Riemann surfaces}

The fundamental result of the theory, conjectured by Riemann circa 1850, and proved over the next few decades, is:

\begin{theorem}
Every compact Riemann surface is algebraic.
\end{theorem}

We have an idea what this means, because we have considered Riemann surfaces defined by polynomial equations
\[
P(z,w) = w^n + a_{n-1}(z)w^{n-1} + \cdots + a_1(z)w + a_0(z) = 0,
\]
and we have seen how to compactify these; and indeed, the result does imply that every compact Riemann surface arises in such manner.  
But we would like now to do more than just explain the meaning of the theorem, and survey the basic algebraic tools available for the study of compact Riemann surfaces.

The truly hard part of the theorem is to get started.  Nothing in the definition of an abstract Riemann surface implies in any obvious way the existence of the basic algebraic objects of study, the meromorphic functions.

\begin{theorem}
Every compact Riemann surface carries a non-constant meromorphic function.
\end{theorem}

Equivalently, every compact Riemann surface can be made into a branched cover of $\mathbb{P}^1$.

\medskip
\noindent
\textbf{Remarks.}  
This is the difficult part of the theorem; once we have a branched cover of $\mathbb{P}^1$, we can start studying it by algebraic methods.  
The proof involves serious analysis, specifically finding solutions of the Laplace equation in various surface domains, with prescribed singularities (“Green’s functions”).

\medskip
Contained in Riemann’s theorem, there is a second result which we shall use without proof.

\begin{proposition}
Let $\pi : R \to \mathbb{P}^1$ be a holomorphic map of degree $n > 0$.  
There exists, then, an additional meromorphic function $f$ on $R$ which \textbf{separates the sheets of $R$ over $\mathbb{P}^1$}, in the following sense: there exists a point $z_0 \in \mathbb{P}^1$ such that $f$ takes $n$ distinct values at the points of $R$ over $z_0$.
\end{proposition}

\begin{exercise}
Show that such an $f$ must then take $n$ distinct values over all but finitely many points of $\mathbb{P}^1$.  
(Consider a limit point of a sequence $z_k$ over which $f$ takes fewer values and use the fact that the zeros of a non-constant analytic function are isolated.  
The case when the limit point is a branch point will require extra care.)
\end{exercise}

Assuming now that the Riemann surface $R$ is connected, let $\mathbb{C}(R)$ be its field of meromorphic functions.  
A non-constant meromorphic function $z$ defines an inclusion of fields
\[
\mathbb{C}(z) \subset \mathbb{C}(R).
\]

In algebra, this is commonly called a \textbf{field extension} rather than a “field inclusion.”  
The degree of the field extension, denoted $[\mathbb{C}(R):\mathbb{C}(z)]$, is the dimension of $\mathbb{C}(R)$ as a vector space over $\mathbb{C}(z)$.


\begin{theorem}
    Let $\pi : R \to \mathbb{P}^1$ denote the holomorphic map associated to the meromorphic function $z$.
\begin{enumerate}
    \item $[\mathbb{C}(R):\mathbb{C}(z)] = \deg \pi \;(= n)$.
    \item Any $f \in \mathbb{C}(R)$ satisfies a polynomial equation of degree $\le n$ with coefficients in $\mathbb{C}(z)$:
    \[
    f^n + a_{n-1}(z)f^{n-1} + \cdots + a_0(z) = 0.
    \]
    \item Let $f$ be a meromorphic function on $R$ which separates the sheets of $R$ over $\mathbb{P}^1$.  
    Then $\mathbb{C}(R)$ is generated by $f$ over $\mathbb{C}(z)$:
    \[
    \mathbb{C}(R) = \mathbb{C}(z)[f].
    \]
    \item Let now $f^n + a_{n-1}(z)f^{n-1} + \cdots + a_0(z) = 0$ be the equation satisfied by the $f$ in (iii).  
    Then $R$ is isomorphic to the non-singular, compactified Riemann surface of the equation
    \[
    w^n + a_{n-1}(z)w^{n-1} + \cdots + a_1(z)w + a_0(z) = 0.
    \]
\end{enumerate}
\end{theorem}

\begin{theorem}
There is a bijection between isomorphism classes of field extensions of $\mathbb{C}(z)$ on one hand, and isomorphism classes of compact Riemann surfaces, together with a degree $n$ map to $\mathbb{P}^1$.
\end{theorem}

Forgetting the map to $\mathbb{P}^1$, we have:

\begin{theorem}
There is a bijection between isomorphism classes of fields which can be realized as finite extensions of $\mathbb{C}(z)$, on one hand, and isomorphism classes of compact Riemann surfaces, on the other.
\end{theorem}

The theorem follows essentially from part~(iv) of the previous result; the only missing ingredient, which rounds up the correspondence between Riemann surfaces and their fields of functions, is:

\begin{theorem}
Homomorphisms from $\mathbb{C}(S)$ to $\mathbb{C}(R)$ are in bijection with holomorphic maps from $R$ to $S$.
\end{theorem}

\noindent
Recall that a finite field extension $k \subset K$ is called \textbf{Galois}, with group $\Gamma$, if $\Gamma$ acts by automorphisms of $K$ and $k$ is precisely the set of elements fixed by $\Gamma$.

\begin{proposition}
The automorphisms of a Riemann surface $R$ are in bijection with those of its field of meromorphic functions $\mathbb{C}(R)$.
\end{proposition}

Let now $\pi : R \to S$ be holomorphic; it gives a field extension $\mathbb{C}(S) \subset \mathbb{C}(R)$.

\begin{proposition}
The automorphisms of $R$ that commute with $\pi$ are precisely the automorphisms of $\mathbb{C}(R)$ which fix $\mathbb{C}(S)$.
\end{proposition}

\begin{corollary}
A map $\pi : R \to S$ defines a Galois extension on the fields of meromorphic functions if and only if there exists a group $\Gamma$ of automorphisms of $R$, commuting with $\pi$, and acting \textbf{simply transitively} on the fibres $\pi^{-1}(s)$, for a general $s \in S$.
\end{corollary}

\begin{proof}
Note first that any automorphism of $R$, commuting with $\pi$, which fixes a point of valency $1$ must be the identity.  
Indeed, by continuity, it will fix an open neighbourhood of the point in question, and the unique continuation property of analytic maps shows it to be the identity.  
Now, if $\mathbb{C}(R)$ is Galois over $\mathbb{C}(S)$, the order of the group of automorphisms is $[\mathbb{C}(R):\mathbb{C}(S)]$.  
So the automorphism group must act simply transitively on the fibres which do not contain branch points.  
Conversely, an automorphism group acting simply transitively on even one fibre with no branch points must have order $\deg \pi$.  
But since that is $[\mathbb{C}(R):\mathbb{C}(S)]$, it follows that the extension is Galois.
\end{proof}

\begin{remark}
Such a map is called a \textbf{Galois cover with group $\Gamma$}.
\end{remark}

\begin{remark}
Note that $R/\Gamma = S$, set theoretically.  
Topology tells us that the $\Gamma$-invariant continuous functions on $R$ are precisely the continuous functions on $S$.  
We have just shown the same for the meromorphic functions.
\end{remark}

\begin{example}[Galois covers]
    \leavevmode
\begin{enumerate}
    \item[(i)] $\mathbb{P}^1 \longrightarrow \mathbb{P}^1$, with $w \longmapsto z = w^3$.\\[4pt]
    The automorphisms are $z \mapsto \zeta z$, where $\zeta$ is any cube root of $1$.

    \item[(ii)] $\mathbb{C}/L \longrightarrow \mathbb{P}^1$, with $u \longmapsto \wp(u)$.\\[4pt]
    The non-trivial automorphism is $u \longmapsto -u$.\\[4pt]
    Rewriting it, the surface $w^2 = 4z^3 - g_2 z - g_3$ is a Galois cover of the $z$-plane, with Galois group $\mathbb{Z}/2$ and automorphism $w \mapsto -w$.
\end{enumerate}
\end{example}

\begin{definition}
A differential $1$-form on a Riemann surface is called \textbf{holomorphic} if, in any local analytic coordinate, it has an expression
\[
\phi(z)\,dz = \phi(z)(dx + i\,dy),
\]
with $\phi$ holomorphic.
\end{definition}

For those of you familiar with the notion of differential forms on a surface, there is a hands-on (but dirty) definition:

\begin{definition}
A \textbf{holomorphic differential} on a Riemann surface $R$ is a quantity which takes the form $\phi(z)\,dz$ in a local coordinate $z$, and on the overlap region with another coordinate $u$, where it has the form $\psi(u)\,du$, it satisfies the gluing law
\[
\phi(z) = \psi(u(z))\,u'(z).
\]
(Formally, $du = u'(z)\,dz$.)
\end{definition}

\begin{proposition}
If $f$ is a holomorphic function on $R$, then $df$ represents a holomorphic differential.  
In a local coordinate $z$,
\[
df = f'(z)\,dz.
\]
\end{proposition}

\begin{remark}
We are trying to talk about derivatives of functions on a Riemann surface.  
However, the derivative of a function does not transform like a function under a change of coordinates, because of the chain rule
\[
\frac{df}{dz} = \frac{df}{du} \frac{du}{dz}.
\]
Differentials are quantities which transform like derivatives of functions. They are not functions because the "value" of a differential at a point is not well-defined (it depends on the choice of local coordinate). However, its value evaluated on a tangent vector is well-defined, precisely because of the chain rule.
\end{remark}

\begin{proposition}
If $\phi$ is a holomorphic differential and $f$ is a holomorphic function, then $f \cdot \phi$ is a holomorphic differential.
\end{proposition}

If $\phi$ and $\psi$ are two holomorphic differentials, then $\phi/\psi$ is a meromorphic function.  
If $\phi$ is holomorphic if and only if the zeroes of $\psi$ are “dominated” by the zeroes of $\phi$, that is, in local coordinate $z$ when
\[
\phi = \phi(z)\,dz, \qquad \psi = \psi(z)\,dz,
\]
the order of the zeroes of $\psi$ is $\le$ the order of the zeroes of $\phi$.

\begin{remark}
There is an obvious notion of a meromorphic differential, and there are analogous properties to the above.
\end{remark}


\begin{example}[Holomorphic differentials]
    \leavevmode
\begin{enumerate}
\item[(i)] \textbf{Holomorphic differentials on $\mathbb{P}^1$ are zero.}

Indeed, over the usual chart $\mathbb{C}$, the differential must take the form $f(z)\,dz$ with $f$ holomorphic.  
Near $\infty$, with $w = 1/z$ as a coordinate, the differential becomes
\[
f(1/w)\,d(1/w) = -f(1/w)\,dw/w^2.
\]
So we need $f(1/w)/w^2$ to be holomorphic at $w = 0$, so $f$ should extend holomorphically at $\infty$ and have a double zero there.  
But then $f$ must be zero.

\item[(ii)] \textbf{Holomorphic differentials on the Riemann surface $w^4 + z^4 = 1$.}

The branch points of the projection to the $z$-plane are at $z = \pm1, \pm i$; $w = 0$ at all of them.  
The map has degree $4$ and branching index $3$ at each of the points.  
At $\infty$, we have four separate sheets defined by $w = \sqrt[4]{1 - z^4}$ which has four convergent expansions in $1/z$, as soon as $|z| > 1$.  
So Riemann–Hurwitz gives
\[
g(R) - 1 = -4 + \tfrac{1}{2} \cdot 12 = 2, \qquad g(R) = 3.
\]
Thus $R$ is a genus $3$ surface with $4$ points at $\infty$.

Now $dz$ defines a meromorphic differential on $R^{\mathrm{cpt}}$, because $z$ is a meromorphic function there.  
At $\infty$, on $R^{\mathrm{cpt}}$, $u = z^{-1}$ is a local holomorphic coordinate, and $dz = -u^{-2}du$ has a double pole.

On the other hand, I claim that $dz$ has a triple zero at each of the branch points.  
Indeed, by the theorem on the local form of an analytic map, there is a local coordinate $v$ with $z - 1 = v^4$.  
So
\[
dz = d(v^4) = 4v^3\,dv
\]
has a triple zero over $z = 1$, and similarly over the other branch points.

So $dz/w^2$, $dz/w^3$ are still holomorphic at the branch points (and everywhere else when $z \neq \infty$, because $w \neq 0$).  
At $z = \infty$, $w$ has a simple pole on $R^{\mathrm{cpt}}$ and we see that $w^{-2}dz$ and $w^{-3}dz$ (and higher powers) are non-singular there.  
Moreover, we can even afford to add $z\,dz/w^3$ to our list, and we have produced three holomorphic differentials on $R^{\mathrm{cpt}}$.


\begin{remark}
It is easy to see that the three are linearly independent.  
It takes more work to show that any holomorphic differential is a linear combination of these three.
\end{remark}

At any rate, we observe the following:

\begin{proposition}
The ratios of holomorphic differentials on $R^{\mathrm{cpt}}$ generate the field of meromorphic functions.
\end{proposition}

\begin{proof}
\[
\frac{dz/w^2}{dz/w^3} = w, \qquad
\frac{z\,dz/w^3}{dz/w^3} = z,
\]
and $z, w$ generate the field of meromorphic functions, by our theorem from last time.
\end{proof}

\end{enumerate}
\end{example}

\section{Line bundles and divisors}
If $f$ is a nonconstant meromorphic function on a compact Riemann surface $R$, then we defined the divisor of $f$ to be \[(f) = \sum_{p \in R} \operatorname{ord}_p(f) p\] where $\operatorname{ord}_p(f)$ is the order of vanishing of $f$ at $p$ (negative if $f$ has a pole at $p$). 

We defined the following sets:
\begin{align*}
    \Div(R) & = \{\text{formal finite sums } \sum n_p p, n_p \in \mathbb{Z}\} \\
    \PDiv(R) & = \{\text{divisors of meromorphic functions}\} \\
    \Cl(R) & = \Div(R)/\PDiv(R)
\end{align*} and there is a map \begin{align*}
    \Div(R) & \to \Pic(R) \\
    D & \mapsto \mathcal{O}(D)
\end{align*} where \begin{align*}
    \mathcal{O}(D)(U) & = \{f \text{ meromorphic on } U : (f)|_U + D|_U \geq 0\}
\end{align*} is an invertible sheaf. More precisely, from $D$ one gets an invertible sheaf $\mathcal{O}(D)$ along with a meromorphic section $s_D$ such that $(s_D)=D$. 

One can think of $s_D$ as the constant function $1$. In particular, recall that $\mathcal{O}(D)$ is locally isomorphic to $\mathcal{O}_R$ by picking local defining equations $\eta_\alpha$ for $D$ on an open cover $U_\alpha$. Recall that on a smooth variety there is an equivalence between Cartier divisors and Weil divisors.
Then the isomorphism $\mathcal{O}(D)|_{U_\alpha} \to \mathcal{O}_R|_{U_\alpha}$ is given by multiplication by $\eta_\alpha$. Then the canonical meromorphic section $s_D$, when restricted to $U_\alpha$, is given by $\eta_\alpha$ which has divisor $D|_{U_\alpha}$.

Therefore, there is an isomorphism of abelian groups \begin{align*}
    \Cl(R) & \to \text{subgroup of } \Pic(R) \text{ consisting of invertible sheaves admitting meromorphic sections} \\
    D & \mapsto (\mathcal{O}(D), 1)
\end{align*} and this is in fact an isomorphism of groups because of the following theorem.

\begin{theorem}
    Every $\cL$ on a Riemann surface has a nonzero meromorphic section. More generally, every vector bundle admits a global meromorphic frame.
\end{theorem}
\begin{remark}
    The compact case follows from the Kodaira vanishing theorem. In the noncompact case, all holomorphicq vector bundles on noncompact $R$ are trivializable and therefore admit a global holomorphic frame.
\end{remark}

Recall that the multiplicative Cousin problem is the problem of finding a global meromorphic function with prescribed zeroes and poles. The additive Cousin problem is the problem of finding a global meromorphic function with prescribed principal parts. The above theorem shows that both problems are always solvable on a noncompact Riemann surface.
\begin{theorem}
    On a noncompact Riemann surface, the multiplicative and additive Cousin problems are always solvable.

    All holomorphic vector bundles on a noncompact Riemann surface are trivializable.
\end{theorem}

\begin{definition}
    [Degree of a line/vector bundle] The degree of a line bundle $\cL$ on a compact Riemann surface $R$ is defined to be the degree of any meromorphic section of $\cL$. This is well defined because if $s,s'$ are two meromorphic sections of $\cL$, then $s/s'$ is a meromorphic function on $R$ and has degree $0$.

    The degree of a vector bundle $\cE$ is defined to be the degree of its determinant line bundle $\det \cE = \wedge^{\operatorname{rank} \cE} \cE$.
\end{definition}

\begin{fact}
On a compact Riemann surface, the degree and dimension of a vector bundle completely determine the topology of the bundle.
\end{fact}

\begin{proposition}
    Every holomorphic line bundle on $\P^1$ is isomorphic to $\mathcal{O}_{\P^1}(n)$ for some integer $n$.
\end{proposition}

\begin{proof}
    We can solve the multiplicative Cousin problem on $\P^1$ for degree zero divisors.
\end{proof}

\begin{proposition}
    Let $E = \C/L$ be an elliptic curve. Then \begin{align*}
        0 \to E & \to \Pic(E) \to \Z \to 0 
    \end{align*}
    is a short exact sequence of abelian groups. It splits, so $\Pic(E) \cong E \times \Z$.
\end{proposition}

\begin{example}
    [Doubled lattice] Recall that every ellptic curve $E = \C/L$ has a degree four cover by $\tilde E = \C/2L$. We defined four $\theta$ functions on $E$, let $\cL_i$ be the corresponding line bundles. Then $\pi^*\cL_i$ are all isomorphic on $\tilde E$ because the beriodicity conditions all become the same after doubling the lattice. Moreover recall that there is a map \begin{align*}
        E \to \P^3, \quad z \mapsto [\theta_1(z,\tau):\theta_2(z,\tau):\theta_3(z,\tau):\theta_4(z,\tau)]
    \end{align*} which is in fact a projective embedding by a line bundle.
\end{example}
Recall that in general if one has $\cL$ a line bundle on $X$, then we can consider the evaluation map $X \to \P(H^0(X,\cL)^*)$ given by $x \mapsto \{s \in H^0(X,\cL) : s(x)=0\}$ when $\cL$ has enough sections. For example, if $\cL$ has negative degree than it has no sections. If $\cL$ has degree $0$ then it has a section if and only if it is trivial. 

The analog of $\otimes \cO(D)$ for vector bundles is called an elementary transformation. Let $V$ be a vector bundle on $R$ and choose a subspace $S\subset V_p$. 

Define $\operatorname{elm}(V,p,S)$ to be the sheaf of sections of $V$ whose value at $p$ lies in $S$. This is a vector bundle whose degree is $\deg V - \codim S$.

\begin{proposition}
    Every vector bundle is obtained from a trivial vector bundle by a finite sequence of elementary transformations. 
\end{proposition}

\begin{exercise}

Let $V$ be a rank~2 (for simplicity) vector bundle over a Riemann surface~$R$. 
Assume that $V$ has two meromorphic sections $s_1, s_2$ which, at some point, 
are holomorphic and span the fiber.

\begin{enumerate}[(a)]
    \item Show that this will be the case everywhere except at a set of isolated points.
    \item At an exceptional point, show that we can modify~$V$ by a finite sequence 
    of elementary transformations so that $s_1$ and $s_2$ form a holomorphic frame 
    of the new bundle.
\end{enumerate}
\end{exercise}


\begin{solution}
Let $s_1, s_2$ be two meromorphic sections of a rank 2 vector bundle $V$ over a Riemann surface $R$. Since $V$ is a holomorphic vector bundle, there exists a local trivialization of $V$ around $p$. \begin{align*}
        V|_U \cong \cO_U e_1 \oplus \cO_U e_2
    \end{align*} and we can write \begin{align*}
        s_1 = f_1 e_1 + f_2 e_2, \quad s_2 = g_1 e_1 + g_2 e_2
    \end{align*} where $f_i, g_i$ are meromorphic functions on $U$. The failure of $s_1, s_2$ to span the fiber at a point $q \in U$ is given by the vanishing of the determinant \begin{align*}
        D(q) = f_1(q)g_2(q) - f_2(q)g_1(q).
    \end{align*} which is a meromorphic function on $U$. The zeroes of a meromorphic function are isolated unless the function is identically zero. Since $s_1, s_2$ span the fiber at $p$, $D$ is not identically zero. Therefore, the set of points where $s_1, s_2$ fail to be holomorphic or fail to span the fiber is a discrete set of isolated points in $R$, because meromorphic functions can only have isolated singularities and the determinant $D$ is meromorphic.

    Let $D$ be the effective divisor of the poles of $s_1, s_2$. We can make $s_1, s_2$ holomorphic by twisting $V$ with the line bundle $\cO(D)$, i.e. consider the new vector bundle \begin{align*}
        V(D) = V \otimes \cO(D)\end{align*} Then $s_1, s_2$ are holomorphic sections of $V(D)$. Now consider a point $p$ where $s_1, s_2$ fail to span the fiber of $V(D)$. If $s_1(p)$ and $s_2(p)$ both vanish, then twist by an appropriate power of $\cO(-p)$ to make at least one of them non-vanishing at $p$, say $s_1(p) \neq 0$. In a chart near $V(D)$ we have a local trivialization $V(D)|_U \cong \cO_U e_1 \oplus \cO_U e_2$ so that $s_1 = e_1$ and $s_2 = f(z)e_1 + g(z)e_2$ for some holomorphic functions $f(z), g(z)$. Let $L = \C e_1 \subset V_p$. We can perform an elementary transformation of $V(D)$ at $p$ with respect to $L$ to obtain a new vector bundle $V'$ which fits into the short exact sequence of coherent sheaves \begin{align}
        0 \to V' \to V(D) \to (V(D)_p/L) \otimes \cO_p \to 0.
    \end{align} 
    The wedge product of the sections is given by \begin{align*}
        s_1 \wedge s_2 = g(z) e_1 \wedge e_2.
    \end{align*} Since $s_1, s_2$ fail to span the fiber at $p$, we have $g(0) = 0$, so we can write $g(z) = z^n h(z)$ for some $n \geq 1$ and unit $h(0) \neq 0$. After absorbing the unit $h(z)$ into $e_2$, we can assume $g(z) = z^n$. Then we have in local coordinates sections $s_1 = e_1$ and $s_2 = f(z) e_1 + z^n e_2$. 
    
    The elementary transformation $V'$ is locally generated by the sections $s_1' = e_1$ and $s_2' = z e_2$. This is because $V'(U)$ consists of sections of $V(D)(U)$ whose value at $p$ lies in $L = \C e_1$. Any section of $V(D)(U)$ can be written as $a(z)e_1 + b(z)e_2$ for some holomorphic functions $a(z), b(z)$. The condition that the value at $p$ lies in $L$ means that $b(0) = 0$, so we can write $b(z) = z c(z)$ for some holomorphic function $c(z)$. Therefore, sections of $V'(U)$ are of the form \begin{align*}
        a(z)e_1 + z c(z)e_2, \quad a(z), c(z) \in \cO_U
    \end{align*} which means $V'(U)$ is a $\cO_U$-module freely generated by $e_1$ and $z e_2$. In particular, the bundle $V'$ is locally trivialized by the sections $e_1$ and $e_2' = z e_2$. In the new bundle $V'$, the sections $s_1$ and $s_2$ have wedge product \begin{align*}
        s_1' \wedge s_2' = z^{n-1} e_1 \wedge e_2'.
    \end{align*} Thus, the order of vanishing of the wedge product at $p$ has decreased by 1. By repeating this process a finite number of times, we can obtain a vector bundle where $s_1, s_2$ span the fiber at $p$. By performing this procedure at each point where $s_1, s_2$ fail to span the fiber, we can obtain a vector bundle where $s_1, s_2$ form a holomorphic frame everywhere.
\end{solution}

\begin{remark}
The argument generalizes to any dimension. If $R$ is compact, it follows that we can trivialize~$V$ by a finite number of elementary transformations. If $R$ is non-compact, one can show that every vector bundle is in fact trivial.
\end{remark}




\begin{theorem}
    Every vector bundle on $\P^1$ is isomorphic to a direct sum of line bundles.
\begin{align*}
    V & \cong \bigoplus_{i=1}^{\operatorname{rank} V} \mathcal{O}_{\P^1}(n_i)
\end{align*}
where $n_i \geq n_{i+1}$. Moreover, the $n_i$ are uniquely determined by $V$.
\end{theorem}
The degree of $V$ is $\sum n_i$. 
\begin{example}
    On $\P^1$, we have homeomorphic but not biholomorphic vector bundles $\cO(1) \oplus \cO(-1)$ and $\cO \oplus \cO$. They both have degreee zero and the same number of sections, but the sections sit inside the bundles differently.
\end{example}

\section{Coherent sheaf cohomology}

Recall if $V$ is a vector bundle on a compact Riemann surface $R$, then we proved that \begin{align*}
    \chi(R,V) & = \dim H^0(R,V) - \dim H^1(R,V) = \deg V + \operatorname{rank} V (1-g)
\end{align*} Moreover, we saw that any coherent sheaf $\cS$ on $R$ locally splits as a direct sum of a vector bundle and a torsion sheaf supported at finitely many points. More precisely, there is a short exact sequence \begin{align*}
    0 \to \cT & \to \cS \to V \to 0
\end{align*} where $\cT$ is the subsheaf of torsion sections of $\cS$ and $V$ is a vector bundle. This short exact sequence is canonical but the splitting is not. 

We have $H^0(R,\cT)$ has dimension the global length of $\cT$. We define \begin{align*}
    H^1(R,\cT) & = 0
\end{align*} and this is justified because \begin{align*}
    \cM \otimes_{\cO} \cT & = 0 \\
    \cP \otimes_{\cO} \cT & = 0
\end{align*} where $\cM$ is the sheaf of meromorphic functions and $\cP = \cM/\cO$ is the sheaf of principal parts. Define \begin{align*}
    \deg \cT & = \dim H^0(R,\cT)
\end{align*} In particular, this definition of $H^*(R,\cT)$ is justified because it is compatible with the Riemann-Roch theorem for coherent sheaves and it makes degree additive in short exact sequences. For example, one can check that \begin{align*}
    0 \to \cO(-np) \to \cO & \to \C\set{z}/(z^n) \to 0
\end{align*} where $p$ is a point with local coordinate $z$ and $\C{z}$ denotes the ring of germs of holomorphic functions at $p$. 

\begin{theorem}
    Let \begin{align*}
        0 \to \cS' & \to \cS \to \cS'' \to 0
    \end{align*} be a short exact sequence of coherent sheaves on a compact Riemann surface $R$. Then there is a long exact sequence in cohomology \begin{align*}
        0 \to H^0(R,\cS') & \to H^0(R,\cS) \to H^0(R,\cS'') \to H^1(R,\cS') \to H^1(R,\cS) \to H^1(R,\cS'') \to 0
    \end{align*} and the Euler characteristic is additive \begin{align*}
        \chi(R,\cS) & = \chi(R,\cS') + \chi(R,\cS'')
    \end{align*}
\end{theorem}

To prove this theorem, we will introduce spectral sequences in a limited context. Let $(\cS^{\bullet},d^{\bullet})$ be a complex of coherent sheaves of finite length on a compact Riemann surface $R$. We can form a double complex 
\[
\begin{tikzcd}[row sep=2em]
    \cdots \arrow[r] & \mathcal{P}(\mathcal{S}^i) \arrow[r, "d^i"] & \mathcal{P}(\mathcal{S}^{i+1}) \arrow[r] & \cdots \\
    \cdots \arrow[r] & \mathcal{M}(\mathcal{S}^i) \arrow[r, "d^i"] \arrow[u, "p^i"] & \mathcal{M}(\mathcal{S}^{i+1}) \arrow[r] \arrow[u, "p^{i+1}"] & \cdots \\
\end{tikzcd}
\] where $\mathcal{M}(\mathcal{S}^i)$ is the sheaf of meromorphic sections of $\mathcal{S}^i$ and $\mathcal{P}(\mathcal{S}^i) = \mathcal{M}(\mathcal{S}^i)/\mathcal{S}^i$ is the sheaf of principal parts. The vertical maps $p^i$ are the natural projections. We can form the total complex \begin{align*}
    \operatorname{Tot}^n(\mathcal{S}^{\bullet}) & = \cP(\mathcal{S}^{n-1}) \oplus \mathcal{M}(\mathcal{S}^n) \\
    d_{\operatorname{Tot}}^n & = d_{\cP}^{n-1} + (-1)^n d_{\mathcal{M}}^n
\end{align*} We define the hypercohomology of the complex $\mathcal{S}^{\bullet}$ to be \begin{align*}
    \mathbb{H}^k(R,\mathcal{S}^{\bullet}) & =  H^k(\Gamma(R,\operatorname{Tot}^{\bullet}(\mathcal{S}^{\bullet})))
\end{align*} We want to relate $\mathbb{H}^k(R,\mathcal{S}^{\bullet})$ to the cohomology of the individual sheaves $\mathcal{S}^i$. Note the vertical differential computes exactly $H^*(R,\mathcal{S}^i)$. So if all the horizontal differentials were zero, we would have \begin{align*}
    \mathbb{H}^k(R,\mathcal{S}^{\bullet}) & = \bigoplus_{i+j=k} H^j(R,\mathcal{S}^i) = H^0(R,\mathcal{S}^k) \oplus H^1(R,\mathcal{S}^{k-1})
\end{align*} In general, the horizontal differentials are not zero and we only have the following approximation.
\begin{theorem}
    There is a long exact sequence \begin{align*}
        \cdots \to \ker{d^k\vert_{H^0(R,\mathcal{S}^k)}} \bigg / \operatorname{im}{d^{k-1}\vert_{H^0(R,\mathcal{S}^{k-1})}} & \to \mathbb{H}^k(R,\mathcal{S}^{\bullet}) \to \ker{d^{k-1}\vert_{H^1(R,\mathcal{S}^{k-1})}} \bigg/ \operatorname{im}{d^{k-2}\vert_{H^1(R,\mathcal{S}^{k-2})}} \to \cdots
    \end{align*}
\end{theorem}
We will get this theorem as a special case of the spectral sequence associated to a double complex. This presents the hypercohomology $\mathbb{H}^k(R,\mathcal{S}^{\bullet})$ as an extension of a subspace of the right term by a quotient of the left term. These terms are computable from $H^*(R,\mathcal{S}^i)$ and the differentials $d^i$.

\end{document}